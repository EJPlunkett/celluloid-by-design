<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Watchlist - Celluloid by Design</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background-color: #f6f5f3;
      overflow-x: hidden;
      scroll-behavior: smooth;
    }
    body {
      font-family: Arial, sans-serif;
      color: #000;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      position: relative;
    }
    header {
      display: flex;
      align-items: center;
      padding: 10px 20px;
      background: transparent;
      position: relative;
      z-index: 1100;
    }
    /* Hamburger toggle button */
    .nav-toggle {
      position: absolute;
      top: 13px;
      left: 13px;
      width: 36px;
      height: 30px;
      cursor: pointer;
      z-index: 1200;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      background: transparent;
      border-radius: 6px;
      box-shadow: none;
      border: none;
      padding: 0;
    }
    .nav-toggle span {
      display: block;
      height: 4px;
      background: #000;
      border-radius: 2px;
      width: 100%;
      transition: all 0.3s ease;
    }
    main.container {
      max-width: 480px;
      margin: 0 auto 40px;
      padding: 0 20px;
      flex-grow: 1;
      text-align: center;
    }
    .header-image {
      display: block;
      max-width: 480px;
      width: 100%;
      height: auto;
      margin: 25px auto 0px auto;
    }
    .body-text {
      font-weight: 300;
      font-size: 16px;
      line-height: 1.5;
      margin: 0;
      color: #000;
      white-space: normal;
      text-align: center;
    }

    /* Watchlist Styles */
    .watchlist-section {
      margin-bottom: 40px;
      text-align: left;
    }
    .watchlist-section:first-of-type {
      margin-top: 0;
    }
    /* BLANKA Font - OTF format in same folder */
    @font-face {
      font-family: 'BLANKA';
      src: url('BLANKA.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
    
    .section-header {
      font-family: 'BLANKA', Arial, sans-serif;
      font-size: 24px;
      font-weight: normal;
      margin-bottom: 8px;
      color: #000;
      border-bottom: 2px solid #000;
      padding-bottom: 5px;
      letter-spacing: 0.5px;
    }
    .input-detail {
      font-size: 16px;
      font-style: italic;
      color: #666;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .color-circle {
      height: 1em;
      width: 1em;
      border-radius: 4px;
      display: inline-block;
    }
    
    /* Updated Movie List Styles with Dropdown */
    .movie-list {
      list-style: none;
      padding-left: 0;
      margin: 0;
    }
    .movie-item {
      margin-bottom: 15px;
      background: transparent;
      transition: all 0.3s ease;
    }
    .movie-header {
      display: flex;
      align-items: center;
      padding: 8px 0;
      cursor: pointer;
      user-select: none;
      transition: all 0.2s ease;
    }
    .movie-header:hover .dropdown-arrow {
      border-left-color: #333;
    }
    .dropdown-arrow {
      margin-right: 12px;
      width: 0;
      height: 0;
      border-left: 8px solid #000;
      border-top: 6px solid transparent;
      border-bottom: 6px solid transparent;
      transition: all 0.3s ease;
      transform-origin: 25% 50%;
    }
    .movie-item.expanded .dropdown-arrow {
      transform: rotate(90deg);
    }
    .movie-title {
      font-weight: 500;
      color: #000;
      text-decoration: none;
      margin-right: 8px;
    }
    .movie-title:hover {
      text-decoration: underline;
    }
    .movie-year {
      color: #666;
      font-weight: normal;
    }
    .movie-summary {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease, padding 0.4s ease, margin 0.4s ease;
      background: transparent;
      margin-left: 28px;
    }
    .movie-item.expanded .movie-summary {
      max-height: 200px;
      padding: 12px 0 8px 0;
      margin-bottom: 8px;
    }
    .summary-text {
      font-size: 14px;
      line-height: 1.6;
      color: #555;
      margin: 0;
      font-style: italic;
    }
    .letterboxd-link {
      color: #000;
      text-decoration: none;
      font-weight: 500;
      margin-left: 8px;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .letterboxd-link:hover {
      text-decoration: underline;
    }
    .letterboxd-icon {
      height: 16px;
      width: auto;
      display: inline-block;
    }
    .empty-state {
      text-align: center;
      color: #666;
      font-style: italic;
      margin: 40px 0;
      font-size: 18px;
    }

    /* Navigation Overlay Styles */
    .nav-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 320px;
      height: 100vh;
      background-color: #f6f5f3;
      border: 10px solid #000;
      border-radius: 0 20px 20px 0;
      box-sizing: border-box;
      box-shadow: none;
      transform: translateX(calc(-100% - 20px));
      transition: transform 0.3s ease;
      z-index: 1050;
      padding: 20px 20px 40px 40px;
      overflow-y: auto;
    }
    .nav-overlay.open {
      transform: translateX(0);
    }
    .nav-section-title {
      height: 30px;
      width: auto;
      max-width: 280px;
      margin-bottom: 16px;
      cursor: pointer;
      display: block;
      object-fit: contain;
    }
    .nav-section-title.donate-menu {
      height: 24px;
    }
    .nav-section-title:first-of-type {
      margin-top: 20px;
    }
    .nav-list {
      list-style: disc inside;
      padding-left: 0;
      margin-top: 0;
      margin-bottom: 30px;
      font-weight: 400;
      font-size: 18px;
    }
    .nav-list li {
      margin-bottom: 12px;
    }
    .nav-list li a {
      color: #000;
      text-decoration: none;
      cursor: pointer;
    }
    .nav-list li a:hover {
      text-decoration: underline;
    }

    /* Footer */
    footer {
      font-size: 14px;
      color: #000;
      text-align: center;
      padding: 20px;
      user-select: none;
      background: #f6f5f3;
      font-style: italic;
      position: static;
      width: auto;
      bottom: auto;
      left: auto;
      opacity: 1;
      pointer-events: auto;
      transition: none;
      z-index: auto;
    }
  </style>
</head>
<body>
  <header>
    <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false" aria-controls="nav-menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </header>

  <main class="container">
    <img src="movies.png" alt="Header" class="header-image" />

    <p class="body-text" id="main-text">
      <span id="signed-out-text">
        <em>Your aesthetic, your archive.</em><br><br>
        <a href="account.html" style="background-color: #000; color: #f6f5f3; text-decoration: none; padding: 4px 12px; border-radius: 20px; font-weight: 500;">Sign In</a> or <a href="create.html" style="background-color: #000; color: #f6f5f3; text-decoration: none; padding: 4px 12px; border-radius: 20px; font-weight: 500;">Create An Account</a><br>to save your curated watchlist.
      </span>
      <span id="signed-in-text" style="display: none;">
        <em>Your aesthetic, your archive.</em>
      </span>
    </p>

    <!-- Color Matches Section -->
    <div class="watchlist-section">
      <h2 class="section-header">Color Matches</h2>
      <div class="input-detail">
        Based on: 
        <div class="color-circle" style="background-color: #4B0082;"></div>
      </div>
      <ul class="movie-list">
        <li class="movie-item">
          <div class="movie-header" onclick="toggleMovie(this)">
            <div class="dropdown-arrow"></div>
            <a href="https://letterboxd.com/film/requiem-for-a-dream/" class="movie-title" target="_blank" onclick="event.stopPropagation()">Requiem for a Dream</a>
            <span class="movie-year">(2000)</span>
          </div>
          <div class="movie-summary">
            <p class="summary-text">A haunting exploration of addiction set against the decaying urban landscape of Brooklyn. Aronofsky's use of deep purples and stark contrasts creates a visual metaphor for descent into darkness, with the city itself becoming a character in this visceral psychological drama.</p>
          </div>
        </li>
        <li class="movie-item">
          <div class="movie-header" onclick="toggleMovie(this)">
            <div class="dropdown-arrow"></div>
            <a href="https://letterboxd.com/film/the-royal-tenenbaums/" class="movie-title" target="_blank" onclick="event.stopPropagation()">The Royal Tenenbaums</a>
            <span class="movie-year">(2001)</span>
          </div>
          <div class="movie-summary">
            <p class="summary-text">Wes Anderson's whimsical masterpiece transforms NYC's Upper West Side into a storybook realm. Rich burgundies and royal purples dominate the carefully curated palette, creating a nostalgic aesthetic that makes the ordinary feel extraordinary through meticulous symmetry and vintage charm.</p>
          </div>
        </li>
        <li class="movie-item">
          <div class="movie-header" onclick="toggleMovie(this)">
            <div class="dropdown-arrow"></div>
            <a href="https://letterboxd.com/film/midnight-cowboy/" class="movie-title" target="_blank" onclick="event.stopPropagation()">Midnight Cowboy</a>
            <span class="movie-year">(1969)</span>
          </div>
          <div class="movie-summary">
            <p class="summary-text">A gritty portrait of 1960s Manhattan that captures the city's seedy underbelly through muted purples and shadowy cinematography. The film's aesthetic reflects the loneliness and desperation of urban life, with Times Square's neon glow providing harsh contrast to intimate character moments.</p>
          </div>
        </li>
      </ul>
    </div>

    <!-- Vibe Matches Section -->
    <div class="watchlist-section">
      <h2 class="section-header">Vibe Matches</h2>
      <div class="input-detail">Based on: "Gritty urban romance with neon lights"</div>
      <ul class="movie-list">
        <li class="movie-item">
          <div class="movie-header" onclick="toggleMovie(this)">
            <div class="dropdown-arrow"></div>
            <a href="https://letterboxd.com/film/her/" class="movie-title" target="_blank" onclick="event.stopPropagation()">Her</a>
            <span class="movie-year">(2013)</span>
          </div>
          <div class="movie-summary">
            <p class="summary-text">Spike Jonze creates an intimate vision of near-future LA that feels remarkably like modern NYC. Warm amber glows and soft neon create a romantic urban dreamscape, where technology and human connection blur in beautifully lit apartment spaces and bustling city streets.</p>
          </div>
        </li>
        <li class="movie-item">
          <div class="movie-header" onclick="toggleMovie(this)">
            <div class="dropdown-arrow"></div>
            <a href="https://letterboxd.com/film/lost-in-translation/" class="movie-title" target="_blank" onclick="event.stopPropagation()">Lost in Translation</a>
            <span class="movie-year">(2003)</span>
          </div>
          <div class="movie-summary">
            <p class="summary-text">Though set in Tokyo, Coppola's neon-soaked meditation on urban isolation perfectly captures the NYC experience. Pink and blue neon reflections create an ethereal atmosphere where two lonely souls connect against the backdrop of a sleepless city's electric energy.</p>
          </div>
        </li>
        <li class="movie-item">
          <div class="movie-header" onclick="toggleMovie(this)">
            <div class="dropdown-arrow"></div>
            <a href="https://letterboxd.com/film/taxi-driver/" class="movie-title" target="_blank" onclick="event.stopPropagation()">Taxi Driver</a>
            <span class="movie-year">(1976)</span>
          </div>
          <div class="movie-summary">
            <p class="summary-text">Scorsese's iconic vision of 1970s Manhattan as a neon-lit hellscape. The film's aesthetic combines harsh street lighting with the warm glow of diners and porn theaters, creating a romantic yet dangerous urban atmosphere that defined NYC's cinematic identity.</p>
          </div>
        </li>
      </ul>
      
      <div class="input-detail">Based on: "Surprise Me" random selection</div>
      <ul class="movie-list">
        <li class="movie-item">
          <div class="movie-header" onclick="toggleMovie(this)">
            <div class="dropdown-arrow"></div>
            <a href="https://letterboxd.com/film/birdman/" class="movie-title" target="_blank" onclick="event.stopPropagation()">Birdman</a>
            <span class="movie-year">(2014)</span>
          </div>
          <div class="movie-summary">
            <p class="summary-text">Iñárritu transforms Broadway's theater district into a surreal playground of mirrors and harsh fluorescents. The film's claustrophobic aesthetic traps viewers in the labyrinthine backstage world, where reality and performance blur under the unforgiving lights of Manhattan's cultural heart.</p>
          </div>
        </li>
        <li class="movie-item">
          <div class="movie-header" onclick="toggleMovie(this)">
            <div class="dropdown-arrow"></div>
            <a href="https://letterboxd.com/film/frances-ha/" class="movie-title" target="_blank" onclick="event.stopPropagation()">Frances Ha</a>
            <span class="movie-year">(2012)</span>
          </div>
          <div class="movie-summary">
            <p class="summary-text">Baumbach's black-and-white love letter to Brooklyn captures the borough's creative energy through crisp monochrome cinematography. The aesthetic emphasizes the poetry in everyday moments, from subway rides to apartment parties, creating a timeless portrait of young adulthood in NYC.</p>
          </div>
        </li>
        <li class="movie-item">
          <div class="movie-header" onclick="toggleMovie(this)">
            <div class="dropdown-arrow"></div>
            <a href="https://letterboxd.com/film/do-the-right-thing/" class="movie-title" target="_blank" onclick="event.stopPropagation()">Do the Right Thing</a>
            <span class="movie-year">(1989)</span>
          </div>
          <div class="movie-summary">
            <p class="summary-text">Spike Lee's Bedford-Stuyvesant becomes a pressure cooker of vibrant colors and sweltering heat. The film's aesthetic uses saturated reds and oranges to visualize racial tension, while the neighborhood's brick walls and fire hydrants become a stage for one of cinema's most powerful urban dramas.</p>
          </div>
        </li>
      </ul>
    </div>

    <!-- Keyword Matches Section -->
    <div class="watchlist-section">
      <h2 class="section-header">Keyword Matches</h2>
      <div class="input-detail">Based on: "minimalist, architectural, contemplative"</div>
      <ul class="movie-list">
        <li class="movie-item">
          <div class="movie-header" onclick="toggleMovie(this)">
            <div class="dropdown-arrow"></div>
            <a href="https://letterboxd.com/film/the-apartment/" class="movie-title" target="_blank" onclick="event.stopPropagation()">The Apartment</a>
            <span class="movie-year">(1960)</span>
          </div>
          <div class="movie-summary">
            <p class="summary-text">Wilder's masterpiece transforms 1960s Manhattan office culture into geometric poetry. The film's aesthetic emphasizes clean lines and vast corporate spaces, where human stories unfold against the backdrop of modernist architecture and the impersonal beauty of mid-century design.</p>
          </div>
        </li>
        <li class="movie-item">
          <div class="movie-header" onclick="toggleMovie(this)">
            <div class="dropdown-arrow"></div>
            <a href="https://letterboxd.com/film/inside-llewyn-davis/" class="movie-title" target="_blank" onclick="event.stopPropagation()">Inside Llewyn Davis</a>
            <span class="movie-year">(2013)</span>
          </div>
          <div class="movie-summary">
            <p class="summary-text">The Coen Brothers create a contemplative winter portrait of 1960s Greenwich Village. Muted browns and grays reflect the protagonist's melancholy, while the film's restrained aesthetic captures the intimate folk music scene in small clubs and snow-dusted Washington Square.</p>
          </div>
        </li>
      </ul>
    </div>
  </main>

  <nav id="nav-menu" class="nav-overlay" aria-hidden="true">
    <a href="match.html">
      <img src="Match By.png" alt="Match By" class="nav-section-title" />
    </a>
    <ul class="nav-list">
      <li><a href="vibes.html">Describe a Vibe</a></li>
      <li><a href="color.html">Pick a Color</a></li>
      <li><a href="words.html">Choose Keywords</a></li>
      <li><a href="surprise.html">Surprise Me</a></li>
    </ul>

    <a href="watchlist.html">
      <img src="Watchlist.png" alt="Watchlist" class="nav-section-title" />
    </a>
    <ul class="nav-list">
      <li><a href="create.html">Create Account</a></li>
      <li><a href="account.html">Sign In</a></li>
    </ul>

    <a href="about.html">
      <img src="About.png" alt="About" class="nav-section-title" />
    </a>
    
    <a href="donate.html">
      <img src="donate menu.png" alt="Donate" class="nav-section-title donate-menu" />
    </a>
  </nav>

  <footer>
    <span class="credit">© 2025 Celluloid by Design</span>
  </footer>

  <script>
    const navToggle = document.querySelector('.nav-toggle');
    const navMenu = document.getElementById('nav-menu');

    // Navigation toggle logic
    navToggle.addEventListener('click', () => {
      const isOpen = navMenu.classList.toggle('open');
      navToggle.setAttribute('aria-expanded', isOpen);
      navMenu.setAttribute('aria-hidden', !isOpen);
    });

    // Movie dropdown toggle function
    function toggleMovie(header) {
      const movieItem = header.parentElement;
      const isExpanded = movieItem.classList.contains('expanded');
      
      // Close all other open dropdowns
      document.querySelectorAll('.movie-item.expanded').forEach(item => {
        if (item !== movieItem) {
          item.classList.remove('expanded');
        }
      });
      
      // Toggle current dropdown
      movieItem.classList.toggle('expanded', !isExpanded);
    }

    // Close dropdowns when clicking outside
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.movie-item')) {
        document.querySelectorAll('.movie-item.expanded').forEach(item => {
          item.classList.remove('expanded');
        });
      }
    });

    // Authentication check function
    function checkAuthStatus() {
      // Replace this with your actual authentication check
      // Examples of how you might check:
      
      // Option 1: Check localStorage/sessionStorage
      const isSignedIn = localStorage.getItem('userToken') || sessionStorage.getItem('userToken');
      
      // Option 2: Check for a cookie
      // const isSignedIn = document.cookie.includes('auth_token');
      
      // Option 3: Make an API call to check session
      // fetch('/api/check-auth').then(response => {
      //   if (response.ok) {
      //     showSignedInContent();
      //   } else {
      //     showSignedOutContent();
      //   }
      // });

      if (isSignedIn) {
        showSignedInContent();
      } else {
        showSignedOutContent();
      }
    }

    function showSignedInContent() {
      document.getElementById('signed-out-text').style.display = 'none';
      document.getElementById('signed-in-text').style.display = 'inline';
    }

    function showSignedOutContent() {
      document.getElementById('signed-out-text').style.display = 'inline';
      document.getElementById('signed-in-text').style.display = 'none';
    }

    // Check authentication status when page loads
    document.addEventListener('DOMContentLoaded', checkAuthStatus);
  </script>
</body>
</html>